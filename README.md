# java-laba-5

Лабораторную работу выполнил Романов Иван ИТ-14

## Описание проекта
Проект демонстрирует работу с классами, коллекциями, файловым вводом-выводом и обработкой данных в Java. Реализует различные задачи от работы с дробями до анализа текстовых файлов.

## Структура проекта

**Основные классы:**
- Главный класс `Main` - система меню для демонстрации всех заданий
- Утилитарные классы для валидации и обработки данных
- Специализированные классы для каждого задания

---

## Задание 1: Работа с дробями

### Класс 1: Fraction
Реализует математическую дробь с кэшированием вещественного значения

**Свойства:**
- `numerator` (private int) - числитель дроби
- `denominator` (private int) - знаменатель дроби  
- `cachedRealValue` (private Double) - кэшированное вещественное значение

**Конструкторы:**
- `Fraction()` - создает дробь 0/1
- `Fraction(int numerator, int denominator)` - создает дробь с заданными значениями

**Методы:**
- `getRealValue()` - возвращает вещественное значение (с кэшированием)
- `setNumerator(int numerator)` - устанавливает числитель
- `setDenominator(int denominator)` - устанавливает знаменатель с проверкой
- `equals()` - сравнивает дроби по числителю и знаменателю

**Тестирование:**

Введите первую дробь:

Числитель: 2

Знаменатель: 3

Введите вторую дробь:

Числитель: 2

Знаменатель: 3

Дробь 1: 2/3 = 0.6666666666666666

Дробь 2: 2/3 = 0.6666666666666666

кэш дроби 1: 1026

кэш дроби 2: 1026

Дробь 1 = Дробь 2: true


---

## Задание 2: Класс Cat и интерфейс Meowable

### Интерфейс 1: Meowable
Функциональный интерфейс для объектов, которые могут "мяукать"

**Методы:**
- `meow()` - издает звук "мяу"

### Класс 1: Cat
Реализует кота с подсчетом количества мяуканий

**Свойства:**
- `name` (private String) - имя кота
- `meowCount` (private int) - счетчик мяуканий

**Конструкторы:**
- `Cat()` - создает кота без имени
- `Cat(String name)` - создает кота с заданным именем

**Методы:**
- `meow()` - одно мяукание
- `meow(int n)` - несколько мяуканий
- `setName()` - устанавливает имя с валидацией

### Класс 2: Funs
Утилитарный класс для работы с Meowable объектами

**Методы:**
- `meowsCare()` - вызывает мяукание у всех объектов в коллекции

**Тестирование:**

Введите имя кота: Барсик

Создан: кот: Барсик

Сколько раз должен мяукнуть кот: 3

Барсик: мяу-мяу-мяу!

Кот мяукал: 3 раз

Вызов мяуканья у каждого объекта

Барсик: мяу!

Мурзик: мяу!

Барсик: мяу!

Мурзик: мяу!

Барсик: мяу!

---

## Задание 3: Обработка списков

### Класс 1: ListTasks
Утилиты для работы со списками

**Методы:**
- `remove()` - удаляет подряд идущие дубликаты из списка

**Тестирование:**

Введите количество элементов в списке: 5

Введите элементы списка:

Элемент 1: a

Элемент 2: a

Элемент 3: b

Элемент 4: b

Элемент 5: c

Исходный список: [a, a, b, b, c]

Список после удаления подряд идущих дубликатов: [a, b, c]

---

## Задание 4: Анализ магазинов сметаны

### Класс 1: Store
Представляет магазин с информацией о сметане

**Свойства:**
- `company` (private String) - название компании
- `street` (private String) - название улицы
- `fat` (private int) - жирность сметаны (15, 20, 25%)
- `price` (private int) - цена в копейках (2000-5000)

**Конструкторы:**
- `Store()` - создает магазин с значениями по умолчанию
- `Store(String company, String street, int fat, int price)` - создает магазин с заданными параметрами

**Методы:**
- `readFromFile()` - читает магазины из файла
- `groupByFat()` - группирует магазины по жирности
- `findMinPrice()` - находит минимальную цену
- `countStoresWithPrice()` - подсчитывает магазины с заданной ценой

### Класс 2: StoreAnalyzer
Аналитик магазинов сметаны

**Методы:**
- `findCheapestSourCream()` - находит количество магазинов с самой дешевой сметаной по каждой жирности

**Тестирование:**

Введите имя файла с данными о магазинах: store

1. Пятёрочка Ленина 15% 2000 коп.
 
2. Перекрёсток Пушкина 25% 2500 коп.
 
3. Магнит Декабристов 15% 2000 коп.

4. Монетка Екатерининская 25% 2000 коп.

5. Лента Мира 15% 3500 коп.

Жирность 25%: 2 магазинов

  - Перекрёсток - 2500 коп.
  
  - Монетка - 2000 коп.
  
Жирность 15%: 3 магазинов

  - Пятёрочка - 2000 коп.

  - Магнит - 2000 коп.
 
  - Лента - 3500 коп.

Количество магазинов с самой дешевой сметаной:

15%: 2 магазинов

20%: 0 магазинов

25%: 1 магазинов

---

## Задание 5: Анализ текста

### Класс 1: TextAnalyzer
Анализатор текстовых файлов

**Методы:**
- `findDigitsInText()` - находит все уникальные цифры в тексте

**Тестирование:**

Введите имя файла с текстом: text

Цифры, встречающиеся в тексте: [1, 2, 3, 4, 5, 6]

---

## Задание 6: Работа с очередями

### Класс 1: QueueUtils
Утилиты для работы с очередями

**Методы:**
- `equalNeighbors()` - проверяет наличие равных соседних элементов в очереди

**Тестирование:**

Введите количество элементов в очереди: 4

Введите очереди списка:

Элемент 1: 4

Элемент 2: 3

Элемент 3: 5

Элемент 4: 4

Исходная очередь: [4, 3, 5, 4]

Есть соседние одинаковые элементы: true

---

## Задание 7: Обработка ломаных линий

### Класс 1: Polyline
Представляет ломаную линию из точек

**Свойства:**
- `points` (private List<Point>) - список точек ломаной

**Конструкторы:**
- `Polyline()` - создает пустую ломаную линию
- `Polyline(List<Point> points)` - создает ломаную из списка точек

**Методы:**
- `processPoints()` - обрабатывает точки: удаляет дубликаты, сортирует по X, делает Y положительным
- `getPointCount()` - возвращает количество точек
- `isEmpty()` - проверяет пустоту

#### Класс 2: Point
Представляет точку в двумерном пространстве

**Свойства:**
- `x` (private double) - координата X
- `y` (private double) - координата Y

**Конструкторы:**
- `Point()` - создает точку в начале координат (0, 0)
- `Point(double x, double y)` - создает точку с заданными координатами

**Методы:**
- `getX()`, `getY()` - геттеры для координат
- `setX(double x)`, `setY(double y)` - сеттеры для координат
- `correctDouble()` - метод для корректного ввода координат с клавиатуры
- `equals()` - сравнивает точки по координатам
- `hashCode()` - генерирует хэш-код на основе координат
- `toString()` - возвращает строковое представление в формате {X;Y}

#### Класс 3: Line  
Представляет линию между двумя точками

**Свойства:**
- `start` (private Point) - начальная точка линии
- `end` (private Point) - конечная точка линии

**Конструкторы:**
- `Line()` - создает линию из двух точек в начале координат
- `Line(int x1, int y1, int x2, int y2)` - создает линию по координатам точек

**Методы:**
- `getStart()`, `getEnd()` - геттеры для точек
- `setStart(Point start)`, `setEnd(Point end)` - сеттеры для точек
- `equals()` - сравнивает линии по начальным и конечным точкам
- `hashCode()` - генерирует хэш-код на основе точек линии
- `toString()` - возвращает строковое представление в формате "Линия от {X1;Y1} до {X2;Y2}"

**Тестирование:**

Введите количество точек: 3

Точка 1:

Введите координату X: 1

Введите координату Y: -2

Точка 2:

Введите координату X: 1

Введите координату Y: -2

Точка 3:

Введите координату X: 3

Введите координату Y: 4

Исходные точки: [{1.0;-2.0}, {1.0;-2.0}, {3.0;4.0}]

Количество точек: 3

Ломаная линия: {1.0;2.0} -> {3.0;4.0}

Количество точек после обработки: 2

---

## Задание 8: Обработка файлов с именами

### Класс 1: FileProcessor
Обработчик файлов с именами и числами

**Методы:**
- `processNamesFile()` - читает файл, группирует имена по числам
- `formatName()` - форматирует имя (первая буква заглавная)

**Тестирование:**

Введите имя файла с именами: name

Результат группировки:

2: [Саша]

3: [Петя]

5: [Вася, Аня]

---

## Вспомогательные классы

### Класс 1: Valid
Для валидации пользовательского ввода

**Методы:**
- `getInt()` - читает и проверяет целое число
- `getString()` - читает и проверяет строку

---

## Главная система управления

### Класс 1: Main
Точка входа в программу с интерактивным меню

**Функциональность:**
- Обработка выбора пользователя (1-8)
- Демонстрация всех 8 заданий
- Интерактивный ввод данных для тестирования
- Обработка исключений и валидация ввода

**Доступные задания в меню:**
1. Работа с дробями (Fraction)
2. Класс Cat и интерфейс Meowable
3. Удаление дубликатов из списка
4. Анализ магазинов сметаны
5. Поиск цифр в тексте
6. Проверка очереди на одинаковые соседние элементы
7. Обработка ломаных линий
8. Группировка имен из файла

---

## Особенности реализации

### 1. Обработка ошибок и валидация:
- **Проверка ввода** - все пользовательские данные проходят валидацию
- **Обработка исключений** - try-catch блоки для всех операций ввода-вывода
- **Проверка файлов** - существование, пустота, корректность формата

### 2. Оптимизация производительности:
- **Кэширование** - вещественных значений в классе Fraction
- **Эффективные алгоритмы** - работа с коллекциями через Stream API
- **Минимизация памяти** - удаление дубликатов, работа с подсписками

### 3. Чистота кода и структура:
- **Разделение ответственности** - каждый класс решает конкретную задачу
- **Интерфейсы** - для определения контрактов поведения
- **Документирование** - комментарии к каждому методу и классу

### 4. Работа с файлами:
- **Чтение разных форматов** - магазины, имена, тексты
- **Группировка данных** - по жирности, числам, координатам
- **Обработка больших объемов** - через потоки и коллекции

---
